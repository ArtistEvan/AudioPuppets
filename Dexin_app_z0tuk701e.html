<!DOCTYPE html>
<html>
<head>
<title>Audio Puppets: Dexin</title>
</head>
<style>
body {
background: red;
}
</style>
<script src="p5.js"></script>
<script src="p5.sound.js"></script>
<script>
var mic;
var imo;

function preload() {
  imo = loadImage('https://i.imgur.com/PYyw1ap.png');
}

function setup() {
  var cnv = createCanvas(400, 500);
  var x = (windowWidth - width) / 2;
  cnv.position(x, 150);

  mic = new p5.AudioIn();

  mic.start();
}

function draw() {
  background(255,0,0);

  var vol = mic.getLevel();
  fill(152,251,152);
  stroke(0);

  var h = map(vol, 0, 1, height, 0);
	if (vol >= 0.015) {
			image(imo, -1200, 0);
	} else if  (vol >= 0.010) {
			image(imo, -800, 0);
	} else if  (vol >= 0.005) {
			image(imo, -400, 0);
	} else {
			image(imo, 0, 0);
	}
}
</script>
<body>
<div align="center"><br><br><br><br><br>
<b>Dexin the Space Dog</b><br>
powered by audioPuppets<br><br>
<br><br><br>
</div>
</body>
</html>
