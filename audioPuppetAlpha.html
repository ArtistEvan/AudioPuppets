<!DOCTYPE html>
<html>
<head>
<title>Audio Puppets: Dexin</title>
</head>
<style>
body {
background: orange;
}
</style>
<script src="https://cdn.jsdelivr.net/npm/p5@1.0.0/lib/p5.js"></script>
<script src="https://cdn.jsdelivr.net/npm/p5@1.0.0/lib/addons/p5.sound.js"></script>
<script>
var mic;

 function setup(){
  var cnv = createCanvas(300, 300);
  var x = (windowWidth - width) / 2;
  cnv.position(x, 400); 
  mic = new p5.AudioIn();
  mic.start();
  
}

function draw(){
 background(255,165,0);
 var vol = mic.getLevel();
 
 ellipse(150, 150, vol * 5000, vol * 5000);
 	
  if (vol >= 0.5) {
		document.getElementById('dexin').src='https://i.imgur.com/OYJV2B6.gif';
	} else if (vol <= 0.4) {
		document.getElementById('dexin').src='https://i.imgur.com/ZxhWMWk.gif';
	}
}
</script>
<body>
<div align="center">
<b>Dexin the Space Dog</b><br>
powered by audioPuppets<br><br>

<img id="dexin" src="https://i.imgur.com/ZxhWMWk.gif" style="width:353px">
<br><br><button onclick="setInterval(draw, 3000);">On</button><button onclick="clearInterval(vol)">Off</button><br><br><br>
</div>
</body>
</html>
