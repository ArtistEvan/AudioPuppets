<!DOCTYPE html>
<html>
<head>
<title>Audio Puppets: Dexin</title>
</head>
<style>
body {
background: orange;
}
</style>
<script src="https://cdn.jsdelivr.net/npm/p5@1.0.0/lib/p5.js"></script>
<script src="https://cdn.jsdelivr.net/npm/p5@1.0.0/lib/addons/p5.sound.js"></script>
<script>
var mic;

function setup() {
  var cnv = createCanvas(100, 100);
  var x = (windowWidth - width) / 2;
  cnv.position(x, 550);

  mic = new p5.AudioIn();

  mic.start();
}

function draw() {
  background(255,165,0);
	
  var vol = mic.getLevel();
  fill(152,251,152);
  stroke(1);
	
  var h = map(vol, 0, 1, height, 0)
  
  if (vol >= 0.0050) {
	  	ellipse(width/2, height/2, 50, 50);
	  document.getElementById('dexin').src='dexintalk3.png';
	} else if (vol <= 0.0049) {
	  	ellipse(width/2, height/2, 20, 20);
	  document.getElementById('dexin').src='dexintalk0.png';
	}
}
</script>
<body>
<div align="center"><br><br><br>
<b>Dexin the Space Dog</b><br>
powered by audioPuppets<br><br>

<img id="dexin" src="dexintalk0" style="width:353px">

<br><br>
</div>
</body>
</html>
